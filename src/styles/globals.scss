html,
body {
  padding: 0;
  margin: 0;
  font-family:
    -apple-system,
    BlinkMacSystemFont,
    Segoe UI,
    Roboto,
    Oxygen,
    Ubuntu,
    Cantarell,
    Fira Sans,
    Droid Sans,
    Helvetica Neue,
    sans-serif;
}

:root {
  --sb-color-scheme: light;
  --sb-background: #f8f9fb;
  color-scheme: var(--sb-color-scheme);
  background-color: var(--sb-background);

  /*
    Brand palette tokens
    - Primary accent: sageTeal (used for headings/interactive accents)
    - Secondary accent: raspberryRed (used for selected CTAs and category pills)
    These are the canonical design tokens for the site.
  */
  /*
    Light-mode accent defaults
    - Keep these explicit so we can tune for WCAG targets.
    - Upgraded below via @supports(color-mix) for precise derivations.
  */
  --sb-accent: #348183;
  --sb-accent-hover: #2c6c6e;
  --sb-accent-weak: rgba(52, 129, 131, 0.12);
  --sb-section-heading-color: var(--sb-accent);
  /* Secondary accent is intentionally a 2-color backbone pair (bg/hover) */
  --sb-accent-secondary: #ca294f;
  --sb-accent-secondary-strong: #e02e58;

  /* Highlight tints for inline text emphasis (Storyblok rich text) */
  --sb-accent-highlight: #8fbabb;
  --sb-accent-secondary-highlight: #ee8ca3;

  /* Text color for primary-highlight spans (e.g. SectionHeader highlighted word) */
  --sb-highlight-text-primary-color: var(--sb-accent-highlight);

  /* Richtext list marker / icon color (e.g. pricing feature checkmarks) */
  --sb-richtext-bullet-icon-color: var(--sb-accent);

  /*
    Centralized derived tokens (keep color-mix out of component modules)
    - Baselines here are safe fallbacks; upgraded below with @supports(color-mix).
  */
  --sb-glass-bg: rgba(248, 249, 251, 0.88);
  --sb-glass-bg-subtle: rgba(248, 249, 251, 0.92);

  --sb-focus-outline-color: rgba(52, 129, 131, 0.42);
  --sb-focus-shadow-color: rgba(52, 129, 131, 0.18);
  --sb-focus-shadow-secondary-color: rgba(224, 46, 88, 0.24);
  --sb-focus-border-color: var(--sb-accent);

  --sb-surface-glass-bg: rgba(255, 255, 255, 0.95);
  --sb-accent-strong-hover-bg: var(--sb-accent);
  --sb-accent-border-weak: rgba(52, 129, 131, 0.22);
  --sb-accent-outline-soft-color: rgba(52, 129, 131, 0.28);
  --sb-accent-secondary-muted: rgba(224, 46, 88, 0.7);

  --sb-skeleton-bg: var(--sb-surface);
  --sb-skeleton-shimmer: rgba(0, 0, 0, 0.08);

  --sb-accent-surface-hover-bg: rgba(52, 129, 131, 0.12);
  --sb-accent-surface-selected-bg: rgba(52, 129, 131, 0.18);
  --sb-accent-surface-active-bg: rgba(52, 129, 131, 0.24);
  --sb-accent-border-subtle: rgba(52, 129, 131, 0.35);
  --sb-accent-text-tint: var(--sb-accent);

  --sb-text: #212121;
  --sb-text-muted: #4b5563;
  --sb-on-accent: #fff;

  /* Additional semantic/brand tokens used by Storyblok color classes */
  --sb-warning: #ffa904;
  --sb-warning-hover: #ffb629;
  --sb-on-warning: #111;
  --sb-accent-tertiary: #dc576f;
  --sb-accent-tertiary-hover: #e36f83;
  --sb-on-tertiary: #fff;
  --page-shell-max-width: 1400px;
  --page-shell-inline-padding-xs: var(--mantine-spacing-md);
  --page-shell-inline-padding-sm: 20px;
  --page-shell-inline-padding-md: var(--mantine-spacing-xl);
  --page-shell-inline-padding: var(--page-shell-inline-padding-xs);
  --page-shell-block-padding: clamp(2rem, 6vw, 4rem);
  --page-shell-section-gap: clamp(1.5rem, 4vw, 3rem);
  --page-shell-section-padding: clamp(12px, 2vw, 32px);
  --page-shell-section-padding-y: calc(2 * var(--page-shell-section-padding));
  --sb-section-stack-gap: 2rem;

  /*
    Fluid spacing tokens
    - Keep desktop layout stable (values clamp to max at >= ~1200px).
    - Allow mobile/tablet to breathe without extra breakpoint rules.
  */
  --sb-grid-gap-sm: clamp(0.75rem, 2vw, 1.25rem); /* 12px → 20px */
  --sb-grid-gap-lg: clamp(1rem, 3vw, 2rem); /* 16px → 32px */
  --sb-grid-gap-ui: clamp(0.5rem, 2vw, 1rem); /* 8px → 16px */

  /* Baseline fallbacks for older browsers; upgraded below with @supports(color-mix). */
  --sb-surface: #ffffff;
  --sb-surface-strong: #ffffff;
  --sb-surface-accent: var(--sb-surface-strong);
  /* Secondary-accent banner tint (more visible than a 12% mix). */
  --sb-surface-accent-secondary: #f9d5de;
  --sb-surface-subtle: rgba(255, 255, 255, 0.02);
  --sb-border: rgba(0, 0, 0, 0.12);

  /* Semantic colors */
  --sb-danger: #d31818;
  --sb-danger-dark: #ff7a7a;

  /* Overlays / badges */
  --sb-overlay-bg: rgba(0, 0, 0, 0.6);
  --sb-overlay-border: rgba(255, 255, 255, 0.2);
  --sb-on-overlay: #fff;

  /* Image overlays (hero/banner style) */
  --sb-image-overlay-1: rgba(0, 0, 0, 0.48);
  --sb-image-overlay-2: rgba(0, 0, 0, 0.28);
  --sb-image-overlay-3: rgba(0, 0, 0, 0.2);

  /* Inverse surfaces (intentional dark UI elements) */
  --sb-surface-inverse: #111;
  --sb-surface-inverse-hover: #1a1a1a;
  --sb-on-inverse: #fff;
}

/*
  Dark-mode hook (future-proofing)
  - Works with Mantine's `data-mantine-color-scheme` attribute.
  - Also supports manual overrides via `--sb-color-scheme` from site config.
*/
:root[data-mantine-color-scheme='dark'] {
  --sb-color-scheme: dark;
  --sb-background: #2c2c2c;
  --sb-text: #f5f5f5;
  --sb-text-muted: rgba(245, 245, 245, 0.72);
  --sb-on-accent: #fff;

  /* Dark-mode accent defaults (explicit so we can target WCAG independently). */
  /* Swap backbone roles across schemes (dark bg uses the light hover color). */
  --sb-accent: #2c6c6e;
  --sb-accent-hover: #348183;
  --sb-accent-weak: rgba(44, 108, 110, 0.18);
  --sb-section-heading-color: var(--sb-highlight-text-primary-color);

  /* Secondary accent swap across schemes */
  --sb-accent-secondary: #e02e58;
  --sb-accent-secondary-strong: #ca294f;

  --sb-accent-highlight: #8aaeaf;
  --sb-accent-secondary-highlight: #e1899e;

  /* Primary-highlight text on dark surfaces (AA-safe) */
  --sb-highlight-text-primary-color: #5bbabd;

  /* Richtext list marker / icon color on dark surfaces (AA-safe) */
  --sb-richtext-bullet-icon-color: #5bbabd;

  /* Derived token baselines for dark mode. */
  --sb-glass-bg: rgba(44, 44, 44, 0.88);
  --sb-glass-bg-subtle: rgba(44, 44, 44, 0.92);

  --sb-focus-outline-color: rgba(44, 108, 110, 0.55);
  --sb-focus-shadow-color: rgba(44, 108, 110, 0.25);
  --sb-focus-shadow-secondary-color: rgba(202, 41, 79, 0.28);
  --sb-focus-border-color: var(--sb-accent);

  --sb-surface-glass-bg: rgba(68, 64, 65, 0.95);
  --sb-accent-strong-hover-bg: var(--sb-accent);
  --sb-accent-border-weak: rgba(44, 108, 110, 0.3);
  --sb-accent-outline-soft-color: rgba(44, 108, 110, 0.34);
  --sb-accent-secondary-muted: rgba(255, 127, 159, 0.78);

  --sb-skeleton-bg: var(--sb-surface);
  --sb-skeleton-shimmer: rgba(255, 255, 255, 0.08);

  --sb-accent-surface-hover-bg: rgba(44, 108, 110, 0.32);
  --sb-accent-surface-selected-bg: rgba(44, 108, 110, 0.44);
  --sb-accent-surface-active-bg: rgba(44, 108, 110, 0.6);
  --sb-accent-border-subtle: rgba(44, 108, 110, 0.6);
  --sb-accent-text-tint: var(--sb-accent);

  --sb-surface: #444041;
  --sb-surface-strong: #5a5152;
  --sb-surface-accent: var(--sb-surface-strong);
  --sb-surface-accent-secondary: rgba(224, 46, 88, 0.28);
  --sb-surface-subtle: rgba(255, 255, 255, 0.06);
  --sb-border: rgba(255, 255, 255, 0.14);

  --sb-overlay-bg: rgba(0, 0, 0, 0.65);
  --sb-overlay-border: rgba(255, 255, 255, 0.18);
}

@supports (color: color-mix(in srgb, #000 10%, #fff)) {
  :root {
    --sb-glass-bg: color-mix(in srgb, var(--sb-background) 88%, transparent);
    --sb-glass-bg-subtle: color-mix(in srgb, var(--sb-background) 92%, transparent);

    --sb-focus-outline-color: color-mix(in srgb, var(--sb-accent) 60%, transparent);
    --sb-focus-shadow-color: color-mix(in srgb, var(--sb-accent) 18%, transparent);
    --sb-focus-shadow-secondary-color: color-mix(in srgb, var(--sb-accent-secondary-strong) 24%, transparent);
    --sb-focus-border-color: color-mix(in srgb, var(--sb-accent) 55%, #000);

    --sb-surface-glass-bg: color-mix(in srgb, var(--sb-surface) 95%, transparent);
    --sb-accent-strong-hover-bg: color-mix(in srgb, var(--sb-accent) 88%, #fff);
    --sb-accent-border-weak: color-mix(in srgb, var(--sb-accent) 33%, transparent);
    --sb-accent-outline-soft-color: color-mix(in srgb, var(--sb-accent) 40%, transparent);
    --sb-accent-secondary-muted: color-mix(in srgb, var(--sb-accent-secondary-strong) 70%, transparent);

    --sb-accent-highlight: color-mix(in srgb, var(--sb-accent) 55%, #fff);
    --sb-accent-secondary-highlight: color-mix(in srgb, var(--sb-accent-secondary-strong) 55%, #fff);

    --sb-skeleton-bg: color-mix(in srgb, var(--sb-surface) 92%, var(--sb-background));
    --sb-skeleton-shimmer: color-mix(in srgb, var(--sb-surface) 85%, var(--sb-text));

    --sb-accent-surface-hover-bg: color-mix(in srgb, var(--sb-accent) 12%, var(--sb-surface));
    --sb-accent-surface-selected-bg: color-mix(in srgb, var(--sb-accent) 18%, var(--sb-surface));
    --sb-accent-surface-active-bg: color-mix(in srgb, var(--sb-accent) 24%, var(--sb-surface));
    --sb-accent-border-subtle: color-mix(in srgb, var(--sb-accent) 70%, transparent);
    --sb-accent-text-tint: color-mix(in srgb, var(--sb-accent) 22%, currentColor);

    --sb-fg-weak: color-mix(in srgb, currentColor 55%, transparent);
    --sb-fg-muted: color-mix(in srgb, currentColor 70%, transparent);
    --sb-fg-muted-strong: color-mix(in srgb, currentColor 86%, transparent);

    --sb-surface: color-mix(in srgb, var(--sb-background) 92%, #ffffff);
    --sb-surface-strong: color-mix(in srgb, var(--sb-background) 80%, #ffffff);
    --sb-surface-accent: color-mix(in srgb, var(--sb-accent) 8%, var(--sb-surface));
    --sb-surface-accent-secondary: color-mix(in srgb, var(--sb-accent-secondary-strong) 20%, var(--sb-surface));
    --sb-surface-subtle: color-mix(in srgb, var(--sb-surface) 10%, transparent);
    --sb-border: color-mix(in srgb, var(--sb-text) 12%, transparent);
    --sb-text-muted: color-mix(in srgb, var(--sb-text) 62%, transparent);
  }

  :root[data-mantine-color-scheme='dark'] {
    --sb-accent-surface-hover-bg: color-mix(in srgb, var(--sb-accent) 55%, var(--sb-surface));
    --sb-accent-surface-selected-bg: color-mix(in srgb, var(--sb-accent) 70%, var(--sb-surface));
    --sb-accent-surface-active-bg: color-mix(in srgb, var(--sb-accent) 85%, var(--sb-surface));

    /* Keep this AA-friendly in dark mode; avoids reintroducing #ca294f* on #444041 surfaces. */
    --sb-accent-secondary-muted: color-mix(in srgb, #ff7f9f 70%, transparent);

    --sb-accent-strong-hover-bg: color-mix(in srgb, var(--sb-accent) 88%, #fff);
  }
}

html {
  scrollbar-gutter: stable;
  background-color: var(--sb-background);
}

body {
  background-color: var(--sb-background);
  color: var(--sb-text);
  min-height: 100vh;
}

.page-shell__content {
  width: min(var(--page-shell-max-width), 100%);
  display: flex;
  flex-direction: column;
  margin: 0 auto;
}

.page-shell__content > .edge-to-edge {
  width: 100vw;
  margin-left: calc(50% - 50vw);
  margin-right: calc(50% - 50vw);
}

.edge-to-edge__inner {
  width: min(var(--page-shell-max-width), 100%);
  margin: 0 auto;
  padding-left: var(--page-shell-inline-padding);
  padding-right: var(--page-shell-inline-padding);
}

.edge-to-edge__inner > * {
  max-width: 100%;
}

@media (min-width: 48em) {
  :root {
    --page-shell-inline-padding: var(--page-shell-inline-padding-sm);
    --sb-section-stack-gap: 2.5rem;
  }
}

@media (min-width: 62em) {
  :root {
    --page-shell-inline-padding: var(--page-shell-inline-padding-md);
  }
}

* {
  box-sizing: border-box;
}

img {
  max-width: 100%;
  height: auto;
  display: block;
}

video {
  max-width: 100%;
  height: auto;
  display: block;
}

.mantine-Title-root[data-order='2'] {
  --title-fz: 32px;
  --title-lh: 1.12;
  --title-fw: 700;
  font-size: 32px;
  font-weight: 700;
  letter-spacing: -0.01em;
  color: var(--sb-section-heading-color);
}

/* Mantine sometimes wraps Title content in an inner Text/span; enforce the same treatment there too. */
.mantine-Title-root[data-order='2'] :is(span, .mantine-Text-root) {
  font-size: 32px;
  font-weight: 700;
  color: inherit;
}

.sb-richtext {
  color: var(--sb-text-muted, #4b5563);

  --sb-richtext-block-gap-default: 0.75em;
  --_sb-richtext-block-gap: var(--sb-richtext-block-gap, var(--sb-richtext-block-gap-default));

  /*
    Rich text spacing rules:
    - Never allow browser default top margins to leak out of a blok.
    - Keep predictable spacing between blocks.
    - Remove bottom margin on the final block so the component controls spacing.
  */

  /*
    Rich text block spacing:
    - The first block should never push content down.
    - The last block should never push content down.
    - Interior spacing is controlled by a single tokenized gap.
  */

  :where(.sb-rt-heading, .sb-rt-paragraph, h1, h2, h3, h4, h5, h6, p, ul, ol, blockquote, pre) {
    margin: 0;
  }

  > :where(.sb-rt-heading, .sb-rt-paragraph, h1, h2, h3, h4, h5, h6, p, ul, ol, blockquote, pre)
    + :where(.sb-rt-heading, .sb-rt-paragraph, h1, h2, h3, h4, h5, h6, p, ul, ol, blockquote, pre) {
    margin-top: var(--_sb-richtext-block-gap);
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  p,
  li,
  a,
  strong,
  em {
    color: inherit;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    color: var(--sb-headline-color, var(--sb-text, #111));
  }

  p,
  li {
    line-height: 1.6;
  }

  a {
    text-decoration: underline;
  }

  ul,
  ol {
    padding-left: 1.25rem;
  }

  li + li {
    margin-top: 0.35em;
  }

  .sb-rt-heading {
    color: var(--sb-headline-color, var(--sb-text, #111));
    line-height: 1.2;
  }
}
